

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>MLPrimitives &mdash; MLPrimitives 0.3.0 documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Basic Concepts" href="getting_started/concepts.html" />
    <link rel="prev" title="MLPrimitives" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> MLPrimitives
          

          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">MLPrimitives</a></li>
<li class="toctree-l1"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#why-did-we-create-this-library">Why did we create this library?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#requirements">Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#install-with-pip">Install with pip</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#quickstart">Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#running-a-primitive">Running a Primitive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-a-primitive">1. Load a Primitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#load-some-data">2. Load some data</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-the-primitive">3. Fit the primitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#produce-results">4. Produce results</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#tuning-a-primitive">Tuning a Primitive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#load-another-primitive">1. Load another primitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#split-the-dataset">2. Split the dataset</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fit-the-new-primitive">3. Fit the new primitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="#make-predictions">4. Make predictions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#evalute-the-performance">5. Evalute the performance</a></li>
<li class="toctree-l3"><a class="reference internal" href="#set-new-hyperparameter-values">6. Set new hyperparameter values</a></li>
<li class="toctree-l3"><a class="reference internal" href="#re-evaluate-the-performance">7. Re-evaluate the performance</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#what-s-next">What’s Next?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="getting_started/concepts.html">Basic Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="getting_started/concepts.html#what-is-a-primitive">What is a primitive?</a></li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/concepts.html#types-of-primitives">Types of Primitives</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/concepts.html#function-primitives">Function Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/concepts.html#class-primitives">Class Primitives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="getting_started/concepts.html#types-of-integrations">Types of Integrations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="getting_started/concepts.html#directly-integrable-primitives">Directly integrable primitives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/concepts.html#examples">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/concepts.html#primitives-that-require-a-python-adapter">Primitives that require a Python adapter</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/concepts.html#id1">Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="getting_started/concepts.html#custom-primitives">Custom primitives</a><ul>
<li class="toctree-l4"><a class="reference internal" href="getting_started/concepts.html#id2">Examples</a></li>
<li class="toctree-l4"><a class="reference internal" href="getting_started/concepts.html#candidate-primitives">Candidate primitives</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Community</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="community/welcome.html">Community</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community/welcome.html#types-of-contributions">Types of contributions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="community/welcome.html#reporting-issues">Reporting Issues</a><ul>
<li class="toctree-l4"><a class="reference internal" href="community/welcome.html#request-new-primitives">Request new primitives</a></li>
<li class="toctree-l4"><a class="reference internal" href="community/welcome.html#request-new-features">Request new features</a></li>
<li class="toctree-l4"><a class="reference internal" href="community/welcome.html#report-bugs">Report Bugs</a></li>
<li class="toctree-l4"><a class="reference internal" href="community/welcome.html#ask-for-documentation">Ask for Documentation</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="community/welcome.html#write-documentation">Write Documentation</a></li>
<li class="toctree-l3"><a class="reference internal" href="community/welcome.html#contribute-code">Contribute code</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community/contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community/contributing.html#general-coding-guidelines">General Coding Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="community/contributing.html#unit-testing-guidelines">Unit Testing Guidelines</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community/annotations.html">Annotations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community/annotations.html#creating-an-annotation-for-a-new-primitive">Creating an annotation for a new primitive</a></li>
<li class="toctree-l2"><a class="reference internal" href="community/annotations.html#modifying-an-existing-annotation">Modifying an existing annotation</a></li>
<li class="toctree-l2"><a class="reference internal" href="community/annotations.html#creating-a-new-version-of-an-existing-annotation">Creating a new version of an existing annotation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community/adapters.html">Adapters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community/adapters.html#creating-a-new-adapter">Creating a new Adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="community/adapters.html#modifying-an-existing-adapter">Modifying an existing Adapter</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="community/custom.html">Custom Primitives</a><ul>
<li class="toctree-l2"><a class="reference internal" href="community/custom.html#creating-a-custom-primitive">Creating a Custom Primitive</a></li>
<li class="toctree-l2"><a class="reference internal" href="community/custom.html#modifying-a-custom-primitive">Modifying a Custom Primitive</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Resources</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api/mlprimitives.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api/mlprimitives.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.adapters.html">mlprimitives.adapters package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/mlprimitives.adapters.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.candidates.html">mlprimitives.candidates package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/mlprimitives.candidates.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="api/mlprimitives.candidates.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.custom.html">mlprimitives.custom package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api/mlprimitives.custom.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api/mlprimitives.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.cli.html">mlprimitives.cli module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.datasets.html">mlprimitives.datasets module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.evaluation.html">mlprimitives.evaluation module</a></li>
<li class="toctree-l3"><a class="reference internal" href="api/mlprimitives.utils.html">mlprimitives.utils module</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="authors.html">Credits</a><ul>
<li class="toctree-l2"><a class="reference internal" href="authors.html#development-lead">Development Lead</a></li>
<li class="toctree-l2"><a class="reference internal" href="authors.html#contributors">Contributors</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="history.html">History</a><ul>
<li class="toctree-l2"><a class="reference internal" href="history.html#id1">0.3.0 - 2021-01-09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#new-primitives">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#primitive-improvements">Primitive Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#general-improvements">General Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id2">0.2.5 - 2020-07-29</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id3">Primitive Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#bug-fixes">Bug Fixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id4">New Primitives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id5">0.2.4 - 2020-01-30</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id6">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id7">Primitive Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id8">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id9">0.2.3 - 2019-11-14</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id10">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id11">Primitive Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id12">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id13">0.2.2 - 2019-10-08</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id14">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id15">Primitive Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id16">0.2.1 - 2019-09-09</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id17">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id18">Primitive Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id20">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id21">0.2.0</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#new-features">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id22">Primitive Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id23">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id24">0.1.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id25">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#new-pipelines">New Pipelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id26">Primitive Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id27">0.1.9</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id28">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id29">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id30">Primitive Improvements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id31">0.1.8</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id32">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id33">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id34">0.1.7</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id35">General Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id36">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id38">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id39">0.1.6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id40">General Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id41">New Primitives</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id42">0.1.5</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id43">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id44">General Improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id45">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id46">0.1.4</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id47">New Primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id48">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id49">0.1.3</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id50">New Features</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id51">0.1.2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id52">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id53">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id54">0.1.1</a><ul>
<li class="toctree-l3"><a class="reference internal" href="history.html#id55">New Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="history.html#id56">Bug Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="history.html#id57">0.1.0</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MLPrimitives</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>MLPrimitives</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/MLBazaar/MLPrimitives/blob/master/docs/readme.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <p align="left">
  <a href="https://dai.lids.mit.edu">
    <img width=15% src="https://dai.lids.mit.edu/wp-content/uploads/2018/06/Logo_DAI_highres.png" alt="DAI-Lab" />
  </a>
  <i>An Open Source Project from the <a href="https://dai.lids.mit.edu">Data to AI Lab, at MIT</a></i>
</p><a class="reference external image-reference" href="https://pypi.org/search/?c=Development+Status+%3A%3A+2+-+Pre-Alpha"><img alt="Development Status" src="https://img.shields.io/badge/Development%20Status-2%20--%20Pre--Alpha-yellow" /></a>
<a class="reference external image-reference" href="https://pypi.python.org/pypi/mlprimitives"><img alt="PyPi Shield" src="https://img.shields.io/pypi/v/mlprimitives.svg" /></a>
<a class="reference external image-reference" href="https://github.com/MLBazaar/MLPrimitives/actions?query=workflow%3A%22Run+Tests%22+branch%3Amaster"><img alt="Tests" src="https://github.com/MLBazaar/MLPrimitives/workflows/Run%20Tests/badge.svg" /></a>
<a class="reference external image-reference" href="https://pepy.tech/project/mlprimitives"><img alt="Downloads" src="https://pepy.tech/badge/mlprimitives" /></a>
<a class="reference external image-reference" href="https://mybinder.org/v2/gh/MLBazaar/MLBlocks/master?filepath=examples/tutorials"><img alt="Binder" src="https://mybinder.org/badge_logo.svg" /></a>
<div class="section" id="mlprimitives">
<h1>MLPrimitives<a class="headerlink" href="#mlprimitives" title="Permalink to this headline">¶</a></h1>
<p>Pipelines and primitives for machine learning and data science.</p>
<ul class="simple">
<li><p>Documentation: <a class="reference external" href="https://MLBazaar.github.io/MLPrimitives">https://MLBazaar.github.io/MLPrimitives</a></p></li>
<li><p>Github: <a class="reference external" href="https://github.com/MLBazaar/MLPrimitives">https://github.com/MLBazaar/MLPrimitives</a></p></li>
<li><p>License: <a class="reference external" href="https://github.com/MLBazaar/MLPrimitives/blob/master/LICENSE">MIT</a></p></li>
<li><p>Development Status: <a class="reference external" href="https://pypi.org/search/?c=Development+Status+%3A%3A+2+-+Pre-Alpha">Pre-Alpha</a></p></li>
</ul>
</div>
<div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>This repository contains primitive annotations to be used by the MLBlocks library, as well as
the necessary Python code to make some of them fully compatible with the MLBlocks API requirements.</p>
<p>There is also a collection of custom primitives contributed directly to this library, which either
combine third party tools or implement new functionalities from scratch.</p>
<div class="section" id="why-did-we-create-this-library">
<h2>Why did we create this library?<a class="headerlink" href="#why-did-we-create-this-library" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Too many libraries in a fast growing field</p></li>
<li><p>Huge societal need to build machine learning apps</p></li>
<li><p>Domain expertise resides at several places (knowledge of math)</p></li>
<li><p>No documented information about hyperparameters, behavior…</p></li>
</ul>
</div>
</div>
<div class="section" id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<div class="section" id="requirements">
<h2>Requirements<a class="headerlink" href="#requirements" title="Permalink to this headline">¶</a></h2>
<p><strong>MLPrimitives</strong> has been developed and tested on <a class="reference external" href="https://www.python.org/downloads/">Python 3.6, 3.7 and 3.8</a></p>
<p>Also, although it is not strictly required, the usage of a
<a class="reference external" href="https://virtualenv.pypa.io/en/latest/">virtualenv</a> is highly recommended in order to avoid
interfering with other software installed in the system where <strong>MLPrimitives</strong> is run.</p>
</div>
<div class="section" id="install-with-pip">
<h2>Install with pip<a class="headerlink" href="#install-with-pip" title="Permalink to this headline">¶</a></h2>
<p>The easiest and recommended way to install <strong>MLPrimitives</strong> is using <a class="reference external" href="https://pip.pypa.io/en/stable/">pip</a>:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install mlprimitives
</pre></div>
</div>
<p>This will pull and install the latest stable release from <a class="reference external" href="https://pypi.org/">PyPi</a>.</p>
<p>If you want to install from source or contribute to the project please read the
<a class="reference external" href="https://MLBazaar.github.io/MLPrimitives/community/welcome.html">Contributing Guide</a>.</p>
</div>
</div>
<div class="section" id="quickstart">
<h1>Quickstart<a class="headerlink" href="#quickstart" title="Permalink to this headline">¶</a></h1>
<p>This section is a short series of tutorials to help you getting started with MLPrimitives.</p>
<p>In the following steps you will learn how to load and run a primitive on some data.</p>
<p>Later on you will learn how to evaluate and improve the performance of a primitive by tuning
its hyperparameters.</p>
<div class="section" id="running-a-primitive">
<h2>Running a Primitive<a class="headerlink" href="#running-a-primitive" title="Permalink to this headline">¶</a></h2>
<p>In this first tutorial, we will be executing a single primitive for data transformation.</p>
<div class="section" id="load-a-primitive">
<h3>1. Load a Primitive<a class="headerlink" href="#load-a-primitive" title="Permalink to this headline">¶</a></h3>
<p>The first step in order to run a primitive is to load it.</p>
<p>This will be done using the <code class="docutils literal notranslate"><span class="pre">mlprimitives.load_primitive</span></code> function, which will
load the indicated primitive as an <a class="reference external" href="https://MLBazaar.github.io/MLBlocks/api/mlblocks.html#mlblocks.MLBlock">MLBlock Object from MLBlocks</a></p>
<p>In this case, we will load the <code class="docutils literal notranslate"><span class="pre">mlprimitives.custom.feature_extraction.CategoricalEncoder</span></code>
primitive.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mlprimitives</span> <span class="kn">import</span> <span class="n">load_primitive</span>

<span class="n">primitive</span> <span class="o">=</span> <span class="n">load_primitive</span><span class="p">(</span><span class="s1">&#39;mlprimitives.custom.feature_extraction.CategoricalEncoder&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="load-some-data">
<h3>2. Load some data<a class="headerlink" href="#load-some-data" title="Permalink to this headline">¶</a></h3>
<p>The CategoricalEncoder is a transformation primitive which applies one-hot encoding to all the
categorical columns of a <code class="docutils literal notranslate"><span class="pre">pandas.DataFrame</span></code>.</p>
<p>So, in order to be able to run our primitive, we will first load some data that contains
categorical columns.</p>
<p>This can be done with the <code class="docutils literal notranslate"><span class="pre">mlprimitives.datasets.load_census</span></code> function:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">mlprimitives.datasets</span> <span class="kn">import</span> <span class="n">load_census</span>

<span class="n">dataset</span> <span class="o">=</span> <span class="n">load_census</span><span class="p">()</span>
</pre></div>
</div>
<p>This dataset object has an attribute <code class="docutils literal notranslate"><span class="pre">data</span></code> which contains a table with several categorical
columns.</p>
<p>We can have a look at this table by executing <code class="docutils literal notranslate"><span class="pre">dataset.data.head()</span></code>, which will return a
table like this:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>                             0                    1                   2
age                         39                   50                  38
workclass            State-gov     Self-emp-not-inc             Private
fnlwgt                   77516                83311              215646
education            Bachelors            Bachelors             HS-grad
education-num               13                   13                   9
marital-status   Never-married   Married-civ-spouse            Divorced
occupation        Adm-clerical      Exec-managerial   Handlers-cleaners
relationship     Not-in-family              Husband       Not-in-family
race                     White                White               White
sex                       Male                 Male                Male
capital-gain              2174                    0                   0
capital-loss                 0                    0                   0
hours-per-week              40                   13                  40
native-country   United-States        United-States       United-States
</pre></div>
</div>
</div>
<div class="section" id="fit-the-primitive">
<h3>3. Fit the primitive<a class="headerlink" href="#fit-the-primitive" title="Permalink to this headline">¶</a></h3>
<p>In order to run our pipeline, we first need to fit it.</p>
<p>This is the process where it analyzes the data to detect which columns are categorical</p>
<p>This is done by calling its <code class="docutils literal notranslate"><span class="pre">fit</span></code> method and assing the <code class="docutils literal notranslate"><span class="pre">dataset.data</span></code> as <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="produce-results">
<h3>4. Produce results<a class="headerlink" href="#produce-results" title="Permalink to this headline">¶</a></h3>
<p>Once the pipeline is fit, we can process the data by calling the <code class="docutils literal notranslate"><span class="pre">produce</span></code> method of the
primitive instance and passing agin the <code class="docutils literal notranslate"><span class="pre">data</span></code> as <code class="docutils literal notranslate"><span class="pre">X</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">transformed</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">produce</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">dataset</span><span class="o">.</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>After this is done, we can see how the transformed data contains the newly generated
one-hot vectors:</p>
<div class="highlight-guess notranslate"><div class="highlight"><pre><span></span>                                                0      1       2       3       4
age                                            39     50      38      53      28
fnlwgt                                      77516  83311  215646  234721  338409
education-num                                  13     13       9       7      13
capital-gain                                 2174      0       0       0       0
capital-loss                                    0      0       0       0       0
hours-per-week                                 40     13      40      40      40
workclass= Private                              0      0       1       1       1
workclass= Self-emp-not-inc                     0      1       0       0       0
workclass= Local-gov                            0      0       0       0       0
workclass= ?                                    0      0       0       0       0
workclass= State-gov                            1      0       0       0       0
workclass= Self-emp-inc                         0      0       0       0       0
...                                             ...    ...     ...     ...     ...
</pre></div>
</div>
</div>
</div>
<div class="section" id="tuning-a-primitive">
<h2>Tuning a Primitive<a class="headerlink" href="#tuning-a-primitive" title="Permalink to this headline">¶</a></h2>
<p>In this short tutorial we will teach you how to evaluate the performance of a primitive
and improve its performance by modifying its hyperparameters.</p>
<p>To do so, we will load a primitive that can learn from the transformed data that we just
generated and later on make predictions based on new data.</p>
<div class="section" id="load-another-primitive">
<h3>1. Load another primitive<a class="headerlink" href="#load-another-primitive" title="Permalink to this headline">¶</a></h3>
<p>Firs of all, we will load the <code class="docutils literal notranslate"><span class="pre">xgboost.XGBClassifier</span></code> primitive that we will use afterwards.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span> <span class="o">=</span> <span class="n">load_primitive</span><span class="p">(</span><span class="s1">&#39;xgboost.XGBClassifier&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="split-the-dataset">
<h3>2. Split the dataset<a class="headerlink" href="#split-the-dataset" title="Permalink to this headline">¶</a></h3>
<p>Before being able to evaluate the primitive perfomance, we need to split the data in two
parts: train, which will be used for the primitive to learn, and test, which will be used
to make the predictions that later on will be evaluated.</p>
<p>In order to do this, we will get the first 75% of rows from the transformed data that we
obtained above and call it <code class="docutils literal notranslate"><span class="pre">X_train</span></code>, and then set the next 25% of rows as <code class="docutils literal notranslate"><span class="pre">X_test</span></code>.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">train_size</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">transformed</span><span class="p">)</span> <span class="o">*</span> <span class="mf">0.75</span><span class="p">)</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">transformed</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="n">train_size</span><span class="p">]</span>
<span class="n">X_test</span> <span class="o">=</span> <span class="n">transformed</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">train_size</span><span class="p">:]</span>
</pre></div>
</div>
<p>Similarly, we need to obtain the <code class="docutils literal notranslate"><span class="pre">y_train</span></code> and <code class="docutils literal notranslate"><span class="pre">y_test</span></code> variables containing the corresponding
output values.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">y_train</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">target</span><span class="p">[:</span><span class="n">train_size</span><span class="p">]</span>
<span class="n">y_test</span> <span class="o">=</span> <span class="n">dataset</span><span class="o">.</span><span class="n">target</span><span class="p">[</span><span class="n">train_size</span><span class="p">:]</span>
</pre></div>
</div>
</div>
<div class="section" id="fit-the-new-primitive">
<h3>3. Fit the new primitive<a class="headerlink" href="#fit-the-new-primitive" title="Permalink to this headline">¶</a></h3>
<p>Once we have have splitted the data, we can fit the primitive by passing <code class="docutils literal notranslate"><span class="pre">X_train</span></code> and <code class="docutils literal notranslate"><span class="pre">y_train</span></code>
to its <code class="docutils literal notranslate"><span class="pre">fit</span></code> method.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="make-predictions">
<h3>4. Make predictions<a class="headerlink" href="#make-predictions" title="Permalink to this headline">¶</a></h3>
<p>Once the primitive has been fitted, we can produce predictions using the <code class="docutils literal notranslate"><span class="pre">X_test</span></code> data as input.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">predictions</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">produce</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X_test</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="evalute-the-performance">
<h3>5. Evalute the performance<a class="headerlink" href="#evalute-the-performance" title="Permalink to this headline">¶</a></h3>
<p>We can now evaluate how good the predictions from our primitive are by using the <code class="docutils literal notranslate"><span class="pre">score</span></code>
method from the <code class="docutils literal notranslate"><span class="pre">dataset</span></code> object on both the expected output and the real output from the
primitive:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">dataset</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>
</pre></div>
</div>
<p>This will output a float value between 0 and 1 indicating how good the predicitons are, being
0 the worst score possible and 1 the best one.</p>
<p>In this case we will obtain a score around 0.866</p>
</div>
<div class="section" id="set-new-hyperparameter-values">
<h3>6. Set new hyperparameter values<a class="headerlink" href="#set-new-hyperparameter-values" title="Permalink to this headline">¶</a></h3>
<p>In order to improve the performance of our primitive we will try to modify a couple of its
hyperparameters.</p>
<p>First we will see which hyperparameter values the primitive has by calling its
<code class="docutils literal notranslate"><span class="pre">get_hyperparameters</span></code> method.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span><span class="o">.</span><span class="n">get_hyperparameters</span><span class="p">()</span>
</pre></div>
</div>
<p>which will return a dictionary like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;n_jobs&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
    <span class="s2">&quot;n_estimators&quot;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span>
    <span class="s2">&quot;max_depth&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;learning_rate&quot;</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
    <span class="s2">&quot;gamma&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
    <span class="s2">&quot;min_child_weight&quot;</span><span class="p">:</span> <span class="mi">1</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Next, we will see which are the valid values for each one of those hyperparameters by calling its
<code class="docutils literal notranslate"><span class="pre">get_tunable_hyperparameters</span></code> method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span><span class="o">.</span><span class="n">get_tunable_hyperparameters</span><span class="p">()</span>
</pre></div>
</div>
<p>For example, we will see that the <code class="docutils literal notranslate"><span class="pre">max_depth</span></code> hyperparameter has the following specification:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;int&quot;</span><span class="p">,</span>
    <span class="s2">&quot;default&quot;</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
    <span class="s2">&quot;range&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="mi">3</span><span class="p">,</span>
        <span class="mi">10</span>
    <span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Next, we will choose a valid value, for example 7, and set it into the pipeline using the
<code class="docutils literal notranslate"><span class="pre">set_hyperparameters</span></code> method:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span><span class="o">.</span><span class="n">set_hyperparameters</span><span class="p">({</span><span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="mi">7</span><span class="p">})</span>
</pre></div>
</div>
</div>
<div class="section" id="re-evaluate-the-performance">
<h3>7. Re-evaluate the performance<a class="headerlink" href="#re-evaluate-the-performance" title="Permalink to this headline">¶</a></h3>
<p>Once the new hyperparameter value has been set, we repeat the fit/train/score cycle to
evaluate the performance of this new hyperparameter value:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">primitive</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X_train</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">y_train</span><span class="p">)</span>
<span class="n">predictions</span> <span class="o">=</span> <span class="n">primitive</span><span class="o">.</span><span class="n">produce</span><span class="p">(</span><span class="n">X</span><span class="o">=</span><span class="n">X_test</span><span class="p">)</span>
<span class="n">dataset</span><span class="o">.</span><span class="n">score</span><span class="p">(</span><span class="n">y_test</span><span class="p">,</span> <span class="n">predictions</span><span class="p">)</span>
</pre></div>
</div>
<p>This time we should see that the performance has improved to a value around 0.724</p>
</div>
</div>
<div class="section" id="what-s-next">
<h2>What’s Next?<a class="headerlink" href="#what-s-next" title="Permalink to this headline">¶</a></h2>
<p>Do you want to <a class="reference external" href="https://MLBazaar.github.io/MLPrimitives/getting_started/concepts.html">learn more about how the project</a>,
about <a class="reference external" href="https://MLBazaar.github.io/MLPrimitives/community/contributing.html">how to contribute to it</a>
or browse the <a class="reference external" href="https://MLBazaar.github.io/MLPrimitives/api/mlprimitives.html">API Reference</a>?
Please check the corresponding sections of the <a class="reference external" href="https://MLBazaar.github.io/MLPrimitives/">documentation</a>!</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="getting_started/concepts.html" class="btn btn-neutral float-right" title="Basic Concepts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="index.html" class="btn btn-neutral float-left" title="MLPrimitives" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, MIT Data To AI Lab

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>